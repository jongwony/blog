<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Jongwony</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="/blog/static/css/style.css">
    <link rel="stylesheet" href="/blog/static/css/custom.css">
    <link rel="stylesheet" href="/blog/static/css/vim.css">
</head>

<body class="box">

<nav class="nav-menu">
    <ul>
        <li><a href="/blog/">Home</a></li>
        <li><a href="/blog/about.html">About me</a></li>
        <li><a href="https://github.com/lastone9182/blog">Source</a></li>
    </ul>
</nav>

<div class="container">

  <div class="content" role="main">
    
<h1>Chocolatey 사용하기</h1>
<p>2017-02-20 00:00:00</p>
<div class='warn'>
설치에 관한 모든 부분은 관리자 권한으로 실행하여야 합니다.
</div>

<p>Linux를 사용하면서 편한 점은 package 관리자로 설치하는 것입니다.
터미널 부분은 이전 포스팅에서 git-bash를 이용하거나 minGW를 이용하여 어느 정도 흉내는 냈으나
git 자체의 버전도 올라가고, 터미널 인코딩이나 명령어 등 고질적인 윈도우 cmd 문제는 일일이 커스터마이징 하거나
심지어는 레지스트리를 건드리는 일 까지 발생합니다.</p>

<p>Visual Studio Code - PowerShell의 조합을 사용한 후에 비로소 역시 운영 체제에 맞는 환경을 사용하는 것이 가장 좋다는 것을 알게 되었습니다.</p>

<p>위의 조합을 알게 된 데에는 Chocolatey를 통한 윈도우 환경에서의 패키지 설치를 알게 된 후였습니다.</p>

<p><a href="//chocolatey.org/install">https://chocolatey.org/install</a></p>

<p>홈페이지를 통해 설치하려고 하면 관리자 권한의 PowerShell에서 설치하라고 하며 <code>Get-ExecutionPolicy</code>의 제한을 풀라고 합니다. 일단 명령어가 무엇인지 알기 위해 <code>help</code>부터 쳐 보았습니다.</p>

<div class="codehilite"><pre><span></span><span class="n">help</span>

<span class="nb">Get-Help</span> <span class="n">iwr</span>
<span class="nb">Get-Help</span> <span class="nb">Get-ExecutionPolicy</span>
<span class="nb">Get-Help</span> <span class="nb">Set-ExecutionPolicy</span>
</pre></div>

<p>찾아보면 <code>iwr</code>은 <code>Invoke-WebRequest</code>의 <code>alias</code>로 리눅스의 <code>wget</code>과 같은 역할을 하며 <code>wget</code> 역시 <code>alias</code>로 설정되어 있음을 알 수 있습니다.
PowerShell 스크립트 파일을 <code>iwr</code>을 통해 가져오므로 스크립트 실행 권한을 풀어 주는 것이 <code>ExecutionPolicy</code>라는 것을 알 수 있습니다.</p>

<p>문서가 Chocolatey 설치 페이지를 통해 제공되었으므로
이름과 구문만 알면 되겠습니다.</p>

<div class="codehilite"><pre><span></span><span class="nb">Set-ExecutionPolicy</span> <span class="n">-ExecutionPolicy</span> <span class="n">Unrestricted</span>
<span class="n">iwr</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">chocolatey</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">install</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-UseBasicParsing</span> <span class="p">|</span> <span class="n">iex</span>
</pre></div>

<p>앞으로 버전이 업데이트 된다면 <code>choco upgrade chocolatey</code>를 실행하면 되겠습니다.
스크립트의 설치가 완료되면 <code>powershell</code>을 다시 실행시키거나 <code>refreshenv</code>를 입력합니다.
이제 패키지 설치를 할 수 있게 됩니다.
Visual Studio Code 편집기, <code>git</code> 및 <code>NodeJS</code> 등 다양한 패키지를 설치 할 수 있습니다.</p>

<p><a href="//chocolatey.org/packages">https://chocolatey.org/packages</a></p>

<p><code>git</code>의 최신 버전을 설치해 보겠습니다.</p>

<p><a href="//chocolatey.org/packages/git.install">https://chocolatey.org/packages/git.install</a></p>

<p>이미 설치되어 있다면 <code>upgrade</code> 인수를 사용합니다.</p>

<div class="codehilite"><pre><span></span>choco install git.install
</pre></div>

<p>저는 이 블로그가 <a href="//jekyllrb.com/docs/windows/"><code>jekyll</code></a> 기반이기에 <code>ruby</code> 설치와 함께 설치해 보았습니다.</p>

<div class="codehilite"><pre><span></span>choco install ruby -y
</pre></div>

<p><a href="//github.com/juthilo/run-jekyll-on-windows/issues/34">SSL 이슈</a>가 있어서 오류를 해결한 후 <code>jekyll</code>을 설치합니다.</p>

<p>(gem을 업데이트하는 방법이 확실하지만 루비를 블로그 이외에 잘 쓰지 않기 때문에 다음과 같이 간단한 방법으로 해결하였습니다.)</p>

<div class="codehilite"><pre><span></span><span class="n">gem</span> <span class="n">sources</span> <span class="o">--</span><span class="n">remove</span> <span class="ss">https</span><span class="p">:</span><span class="sr">//</span><span class="n">rubygems</span><span class="o">.</span><span class="n">org</span><span class="o">/</span>
<span class="n">gem</span> <span class="n">sources</span> <span class="o">-</span><span class="n">a</span> <span class="ss">http</span><span class="p">:</span><span class="sr">//</span><span class="n">rubygems</span><span class="o">.</span><span class="n">org</span><span class="o">/</span>
<span class="n">gem</span> <span class="n">install</span> <span class="n">jekyll</span>
</pre></div>

<p>Visual Studio Code 편집기 역시 설치 할 수 있습니다.</p>

<div class="codehilite"><pre><span></span>choco install visualstudiocode
</pre></div>

<p>이 편집기는 PowerShell 터미널을 지원하므로 이제 <code>jekyll serve</code>를 편집기에서 실행할 수 있습니다.</p>

<p>터미널에서 실행하는 명령어는 <code>code</code>입니다.</p>

<p><img alt="vscode" src="/image/vscode.png" /></p>

<p>기타 다양한 패키지 및 확장 프로그램 역시 설치할 수 있습니다. 자세한 내용은 <a href="//github.com/chocolatey/choco">GitHub</a>를 참조하시기 바랍니다.</p>

  </div>

</div><!-- end container -->

<script src="/blog/static/js/script.js"></script>
<script src="/blog/static/js/custom.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

</body>
</html>