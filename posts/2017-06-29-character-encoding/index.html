<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Jongwony</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="/blog/static/css/style.css">
    <link rel="stylesheet" href="/blog/static/css/custom.css">
    <link rel="stylesheet" href="/blog/static/css/vim.css">
</head>

<body class="box">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <a class="navbar-brand" href="/blog/about.html">Jongwony</a>

    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active"><a class="nav-link" href="/blog/">Home</a></li>

            <li class="nav-item"><a class="nav-link" href="https://github.com/lastone9182/blog">Source</a></li>
        </ul>
    </div>
</nav>

<div class="container">

  <div class="content" role="main">
    

<h1>Encoding 문제 찾기</h1>

<small class="date">2017-06-29 00:00:00</small>

    <br>


    <a id="tag" href="/blog#encoding">
      <img src="//img.shields.io/badge/-Encoding-orange.svg" alt="encoding" />
    </a>

    <a id="tag" href="/blog#web">
      <img src="//img.shields.io/badge/-Web-orange.svg" alt="web" />
    </a>


    <hr>

<h2>Encoding</h2>

<p>인코딩은 텍스트를 바이트로 변환하는 작업입니다.</p>

<p><a href="http://htmlpurifier.org/docs/enduser-utf8.html#whyutf8-forms-urlencoded">참조 문서</a>에서 정리한 글입니다.</p>

<ul>
<li><strong>ASCII</strong>는 영어 알파벳 기반의 7비트 인코딩입니다.</li>
<li>é 및 æ와 같은 127개의 비표준 문자를 추가하여 <strong>8비트 인코딩</strong>으로 확장합니다.</li>
<li>이후 모든 언어의 표준을 위해 <strong>UTF-8</strong> 인코딩이 등장합니다.</li>
</ul>

<h2>Website Encoding</h2>

<p>가장 신뢰할만한 방법은 일단 브라우저 인코딩을 확인하는 것입니다.</p>

<p>Internet Explorer는 문자 인코딩의 MIME을 제공하지 않으므로 Description을 이용해 찾아야 합니다. 다음은 일반적인 것들입니다.</p>

<table>
<thead>
<tr>
<th align="left">IE description</th>
<th align="left">MIME name</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Windows</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Arabic (Windows)</td>
<td align="left">Windows-1256</td>
</tr>
<tr>
<td align="left">Baltic (Windows)</td>
<td align="left">Windows-1257</td>
</tr>
<tr>
<td align="left">Central European</td>
<td align="left">(Windows)  Windows-1250</td>
</tr>
<tr>
<td align="left">Cyrillic (Windows)</td>
<td align="left">Windows-1251</td>
</tr>
<tr>
<td align="left">Greek (Windows)</td>
<td align="left">Windows-1253</td>
</tr>
<tr>
<td align="left">Hebrew (Windows)</td>
<td align="left">Windows-1255</td>
</tr>
<tr>
<td align="left">Thai (Windows)</td>
<td align="left">TIS-620</td>
</tr>
<tr>
<td align="left">Turkish (Windows)</td>
<td align="left">Windows-1254</td>
</tr>
<tr>
<td align="left">Vietnamese (Windows)</td>
<td align="left">Windows-1258</td>
</tr>
<tr>
<td align="left">Western European (Windows)</td>
<td align="left">Windows-1252</td>
</tr>
<tr>
<td align="left">ISO</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Arabic (ISO)</td>
<td align="left">ISO-8859-6</td>
</tr>
<tr>
<td align="left">Baltic (ISO)</td>
<td align="left">ISO-8859-4</td>
</tr>
<tr>
<td align="left">Central European (ISO)</td>
<td align="left">ISO-8859-2</td>
</tr>
<tr>
<td align="left">Cyrillic (ISO)</td>
<td align="left">ISO-8859-5</td>
</tr>
<tr>
<td align="left">Estonian (ISO)</td>
<td align="left">ISO-8859-13</td>
</tr>
<tr>
<td align="left">Greek (ISO)</td>
<td align="left">ISO-8859-7</td>
</tr>
<tr>
<td align="left">Hebrew (ISO-Logical)</td>
<td align="left">ISO-8859-8-l</td>
</tr>
<tr>
<td align="left">Hebrew (ISO-Visual)</td>
<td align="left">ISO-8859-8</td>
</tr>
<tr>
<td align="left">Latin 9 (ISO)</td>
<td align="left">ISO-8859-15</td>
</tr>
<tr>
<td align="left">Turkish (ISO)</td>
<td align="left">ISO-8859-9</td>
</tr>
<tr>
<td align="left">Western European (ISO)</td>
<td align="left">ISO-8859-1</td>
</tr>
<tr>
<td align="left">Other</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Chinese Simplified (GB18030)</td>
<td align="left">GB18030</td>
</tr>
<tr>
<td align="left">Chinese Simplified (GB2312)</td>
<td align="left">GB2312</td>
</tr>
<tr>
<td align="left">Chinese Simplified (HZ)</td>
<td align="left">HZ</td>
</tr>
<tr>
<td align="left">Chinese Traditional (Big5)</td>
<td align="left">Big5</td>
</tr>
<tr>
<td align="left">Japanese (Shift-JIS)</td>
<td align="left">Shift_JIS</td>
</tr>
<tr>
<td align="left">Japanese (EUC)</td>
<td align="left">EUC-JP</td>
</tr>
<tr>
<td align="left">Korean</td>
<td align="left">EUC-KR</td>
</tr>
<tr>
<td align="left">Unicode (UTF-8)</td>
<td align="left">UTF-8</td>
</tr>
</tbody>
</table>

<h4>Embedded encoding</h4>

<p>웹 개발자가 문자 인코딩을 지정할 곳이 <code>META</code> 태그에도 있습니다.</p>

<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span> <span class="p">/&gt;</span>
</pre></div>

<p>이는 <code>HEAD</code> 섹션에서 찾을 수 있으며 <code>charset</code>의 텍스트는 <strong>claim</strong> 인코딩입니다. HTML은 이 인코딩이라고 주장하지만 실제 적용되는지의 여부는 다른 요소에 따라 결정됩니다.</p>

<ul>
<li>브라우저의 문자 인코딩과 동일하거나</li>
<li>브라우저의 문자 인코딩과 다르거나</li>
<li><code>META</code> 태그가 전혀 없는 경우…</li>
</ul>

<p>웹 서버에서 전송되는 <code>Content-Type</code> HTTP 헤더에도 다음과 같은 형식으로 포함될 수 있습니다.</p>

<div class="codehilite"><pre><span></span><span class="nt">Content-Type</span><span class="o">:</span> <span class="nt">text</span><span class="o">/</span><span class="nt">html</span><span class="o">;</span> <span class="nt">charset</span><span class="o">=</span><span class="nt">ISO-8859-1</span>
</pre></div>

<p>하지만 헤더와 태그는 결국 실제 웹 페이지의 실제 문자를 설명할 뿐이라는 것을 유념해야 합니다.</p>

<p>웹페이지가 다음과 같은 경우 조치를 취할 수 있습니다.</p>

<ul>
<li>
<p>특수문자를 사용하고, 가끔 제대로 보일 경우
    임베디드 인코딩을 서버 인코딩으로 변경합니다.</p>
</li>
<li>
<p>특수문자를 사용하지만 문자가 깨져서 나올 경우
    서버 인코딩을 임베디드 인코딩으로 변경합니다.</p>
</li>
</ul>

<p><code>form</code>을 사용한 양식 제출은 두가지 유형이 있습니다.
- <code>application/x-www-form-urlencoded</code> GET과 기본 POST 요청에 사용
- <code>multipart/form-data</code> 파일 업로드 같은 POST 요청에 사용</p>

<p>그러나 일단 인코딩 외부에서 문자를 추가하기 시작하면 (예 : Microsoft에서 곱슬 곱슬 한 "스마트"따옴표를 예로들 수 있습니다.) 이상한 일들이 발생하기 시작합니다.
이때는 지원되지 않는 문자를 물음표로 대체하거나 일반 문자 또는 엔티티 참조로 수정하거나 원본 인코딩과 혼합된 다른 문자 인코딩(일반적으로 Windows-1252가 아닌 iso-8859-1 또는 UTF-8이 8 비트로 산재되어 있음)으로 전송합니다.</p>

<p>이러한 행동을 방지하려면 브라우저 <code>agent</code>를 스니핑하고 다른 동작의 데이터베이스를 컴파일 후 적절한 변환 조치를 취해야 합니다.
결국 UTF-8이 모든 문자를 지원함으로써 모든 문제를 해결 할 수 있음을 알게 될 것입니다.</p>

<p>POST 요청일 경우 <code>Accept-Encoding</code> 헤더를 UTF-8로 설정하는 방법도 있습니다. 이때는 데이터가 UTF-8 형식이 될 것이므로 명시적으로 선호하는 로컬 문자 인코딩으로 변환해야 합니다.</p>

<p>문자를 표시하는 적절한 글꼴이 부족하여 발생하는 문제도 있습니다.</p>


  </div>

</div><!-- end container -->

<script src="/blog/static/js/script.js"></script>
<script src="/blog/static/js/custom.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

</body>
</html>